const config = require('../config')
const {cmd, commands} = require('../command')
const moment = require('moment')

cmd({
    pattern: "menu2",
    react: "ðŸ‘¾",
    desc: "Get stylish command list",
    category: "main",
    filename: __filename
},
async(conn, mek, m, {from, pushname, reply}) => {
try {
    // Calculate uptime
    const uptime = process.uptime();
    const uptimeString = moment.duration(uptime, 'seconds').humanize();
    
    // Get current time greeting
    const hour = new Date().getHours();
    let greeting = "";
    if (hour < 12) greeting = "ðŸŒ… Good Morning";
    else if (hour < 18) greeting = "â˜€ï¸ Good Afternoon";
    else greeting = "ðŸŒ™ Good Evening";

    let menu = {
        main: '',
        download: '',
        group: '',
        owner: '',
        convert: '',
        search: ''
    };

    for (let i = 0; i < commands.length; i++) {
        if (commands[i].pattern && !commands[i].dontAddCommandList) {
            menu[commands[i].category] += `â•‘ âœ¦ ${commands[i].pattern}\n`;
        }
    }

    let madeMenu = `*â•­â”â”âã€˜ã€˜ ${config.BOT_NAME} ã€™ã€™*
*â”ƒðŸª¾ á´á´á´…á´‡* : *${config.MODE}*
*â”ƒðŸª„ á´˜Ê€á´‡Ò“Éªx* : *${config.PREFIX}*
*â”ƒðŸŒ€ Ê™á´€ÉªÊŸá´‡Ês: á´á´œÊŸá´›Éª á´…á´‡á´ Éªá´„á´‡*
*â”ƒðŸ‘‘ á´„Ê€á´‡á´€á´›á´Ê€* : *á´€ÊŸÉª ÉªÉ´xÉªá´…á´‡*
*â”ƒðŸ«Ÿ á´ á´‡Ê€sÉªá´É´* : *á´ .4.0.0*
*â”ƒâ³ á´œá´˜á´›Éªá´á´‡* : *${uptimeString}*
*â”ƒ${hour < 12 ? 'ðŸŒ…' : hour < 18 ? 'â˜€ï¸' : 'ðŸŒ™'} É¢Ê€á´‡á´‡á´›ÉªÉ´É¢* : *${greeting} ${pushname}*
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â*

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     ðŸ…²ðŸ…¾ðŸ…¼ðŸ…¼ðŸ…°ðŸ…½ðŸ…³ ðŸ…»ðŸ…¸ðŸ†‚ðŸ†ƒ     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ðŸ„³ðŸ„¾ðŸ…†ðŸ„½ðŸ„»ðŸ„¾ðŸ„°ðŸ„³ ðŸ„²ðŸ„¼ðŸ„³ðŸ…‚   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
${menu.download}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ðŸ„¼ðŸ„°ðŸ„¸ðŸ„½ ðŸ„²ðŸ„¼ðŸ„³ðŸ…‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
${menu.main}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ðŸ„¶ðŸ…ðŸ„¾ðŸ…„ðŸ„¿ ðŸ„²ðŸ„¼ðŸ„³ðŸ…‚     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
${menu.group}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ðŸ„¾ðŸ…†ðŸ„½ðŸ„´ðŸ… ðŸ„²ðŸ„¼ðŸ„³ðŸ…‚     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
${menu.owner}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ðŸ„²ðŸ„¾ðŸ„½ðŸ……ðŸ„´ðŸ…ðŸ…ƒ ðŸ„²ðŸ„¼ðŸ„³ðŸ…‚   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
${menu.convert}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ðŸ…‚ðŸ„´ðŸ„°ðŸ…ðŸ„²ðŸ„· ðŸ„²ðŸ„¼ðŸ„³ðŸ…‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
${menu.search}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

*â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®*
â”‚   ðŸ„¿ðŸ„¾ðŸ…†ðŸ„´ðŸ…ðŸ„´ðŸ„³ ðŸ„±ðŸ…ˆ ðŸ„°ðŸ„»ðŸ„¸   â”‚
*â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯*`;

    await conn.sendMessage(from, {
        image: {url: config.ALIVE_IMG},
        caption: madeMenu
    }, {quoted: mek});

} catch(e) {
    console.log(e)
    reply(`${e}`)
}
})
